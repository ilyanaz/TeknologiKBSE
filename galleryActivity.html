
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Activities & Gallery | Teknologi KBSE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #111827;
        }
        ::-webkit-scrollbar-thumb {
            background: #f59e0b;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #d97706;
        }
        .lightbox-image {
            max-height: 80vh;
            max-width: 90vw;
        }
    </style>
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client"
        }
    }
    </script>
</head>
<body class="bg-gray-900">
    <div id="root"></div>
    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import ReactDOM from 'react-dom/client';

        // === Reusable Components ===
        const ChevronDownIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4 ml-1 transition-transform duration-300 group-hover:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
            </svg>
        );

        const NavLink = ({ href, children }) => (
            <a href={href} className="text-gray-300 hover:text-amber-400 transition-colors duration-300 px-3 py-2 rounded-md text-sm font-medium">
                {children}
            </a>
        );

        const DropdownLink = ({ href, children }) => (
            <a href={href} className="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-amber-400 w-full text-left transition-colors duration-300">
                {children}
            </a>
        );

        const Dropdown = ({ title, children }) => (
            <div className="relative group">
                <button className="text-gray-300 hover:text-amber-400 transition-colors duration-300 px-3 py-2 rounded-md text-sm font-medium flex items-center">
                    {title} <ChevronDownIcon />
                </button>
                <div className="absolute left-0 mt-1 w-48 rounded-md shadow-lg bg-gray-800 ring-1 ring-black ring-opacity-5 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50 transform group-hover:translate-y-0 translate-y-2">
                    <div className="py-1">{children}</div>
                </div>
            </div>
        );

        const Header = ({ isVisible }) => (
            <header className={`fixed top-0 left-0 right-0 z-50 transition-all duration-500 ease-in-out ${isVisible ? 'translate-y-0 opacity-100' : '-translate-y-full opacity-0'}`}>
                <nav className="bg-black/70 backdrop-blur-md shadow-lg shadow-amber-500/10">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="flex items-center justify-between h-16">
                            <div className="flex items-center">
                                <a href="index.html" className="flex-shrink-0">
                                    <img src="image/logo kbse white.png" alt="Teknologi KBSE Logo" className="h-10 w-auto" />
                                </a>
                            </div>
                            <div className="hidden md:block">
                                <div className="ml-10 flex items-baseline space-x-4">
                                    <NavLink href="index.html">Home</NavLink>
                                    <Dropdown title="About Us">
                                        <DropdownLink href="overview.html">Company Overview</DropdownLink>
                                        <DropdownLink href="team.html">Leadership & Team</DropdownLink>
                                        <DropdownLink href="cert-award.html">Certificates & Awards</DropdownLink>
                                    </Dropdown>
                                    <Dropdown title="Projects & Services">
                                        <DropdownLink href="product.html">Projects / Products</DropdownLink>
                                        <DropdownLink href="service.html">Services</DropdownLink>
                                    </Dropdown>
                                    <NavLink href="partner-client.html">Partners & Clients</NavLink>
                                    <a href="galleryActivity.html" className="text-amber-400 bg-gray-800/50 px-3 py-2 rounded-md text-sm font-medium">Activities & Gallery</a>
                                    <NavLink href="contact.html">Contact Us</NavLink>
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>
            </header>
        );

        const FooterLink = ({ href, children }) => (<a href={href} className="text-gray-400 hover:text-amber-400 transition-colors duration-300">{children}</a>);

        const Footer = () => (
            <footer className="bg-gray-900 text-gray-400 py-12">
                <div className="max-w-7xl mx-auto px-6 lg:px-8">
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                        <div className="space-y-4">
                            <img src="image/logo kbse white.png" alt="Teknologi KBSE Logo" className="h-12 w-auto" />
                            <p className="text-sm">Teknologi KBSE Sdn Bhd (0759215-M)</p>
                            <p className="text-sm">1-11-2 & 1-11-3, Presint Alami, Pusat Perdagangan Worldwide 2 Persiaran Akuatik, Seksi 13, 40100 Shah Alam, Selangor, Malaysia.</p>
                        </div>
                        <div>
                            <h3 className="text-sm font-semibold text-white tracking-wider uppercase">Quick Links</h3>
                            <ul className="mt-4 space-y-2">
                                <li><FooterLink href="index.html">Home</FooterLink></li>
                                <li><FooterLink href="overview.html">About Us</FooterLink></li>
                                <li><FooterLink href="product.html">Projects & Services</FooterLink></li>
                                <li><FooterLink href="partner-client.html">Partners & Clients</FooterLink></li>
                                <li><FooterLink href="contact.html">Contact Us</FooterLink></li>
                            </ul>
                        </div>
                          <div>
                              <h3 className="text-sm font-semibold text-white tracking-wider uppercase">Discover</h3>
                              <ul className="mt-4 space-y-2">
                                  <li><FooterLink href="cert-award.html">Certificates & Awards</FooterLink></li>
                                  <li><FooterLink href="galleryActivity.html">Activities & Gallery</FooterLink></li>
                                  <li><FooterLink href="overview.html">Company Overview</FooterLink></li>
                                  <li><FooterLink href="team.html">Leadership</FooterLink></li>
                                  <li><FooterLink href="faq.html">FAQ</FooterLink></li>
                              </ul>
                          </div>
                          <div>
                              <h3 className="text-sm font-semibold text-white tracking-wider uppercase">Legal</h3>
                              <ul className="mt-4 space-y-2">
                                  <li><FooterLink href="privacyPolicy.html">Privacy Policy</FooterLink></li>
                                  <li><FooterLink href="term-condition.html">Terms & Conditions</FooterLink></li>
                              </ul>
                          </div>
                    </div>
                    <div className="mt-12 border-t border-gray-700 pt-8 text-center text-sm">
                        <p>&copy; {new Date().getFullYear()} Teknologi KBSE Sdn. Bhd. All rights reserved.</p>
                    </div>
                </div>
            </footer>
        );

        const AnimatedSection = ({ children, className = '', delay = 0 }) => {
            const [isVisible, setIsVisible] = useState(false);
            const sectionRef = useRef(null);
            useEffect(() => {
                const observer = new IntersectionObserver(([entry]) => {
                    if (entry.isIntersecting) { setIsVisible(true); observer.unobserve(entry.target); }
                }, { root: null, rootMargin: '0px', threshold: 0.1 });
                const currentRef = sectionRef.current;
                if (currentRef) observer.observe(currentRef);
                return () => { if (currentRef) observer.unobserve(currentRef); };
            }, []);
            return (<div ref={sectionRef} className={`transition-all duration-1000 ease-out ${isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'} ${className}`} style={{ transitionDelay: `${delay}ms` }}>{children}</div>);
        };

        const SectionTitle = ({ children, className = '' }) => (<h2 className={`text-3xl font-bold mb-4 tracking-wide text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-500 ${className}`}>{children}</h2>);
        
        const Parallax = ({ children, className = '', speed = 0.1 }) => {
            const elRef = useRef(null);
            useEffect(() => {
                let isTicking = false;
                const handleScroll = () => {
                    if (!elRef.current) return;
                    const rect = elRef.current.getBoundingClientRect();
                    const windowHeight = window.innerHeight;
                    if (rect.bottom < 0 || rect.top > windowHeight) return;
                    const elementCenter = rect.top + rect.height / 2;
                    const viewportCenter = windowHeight / 2;
                    const offset = -(elementCenter - viewportCenter) / viewportCenter * speed * 100;
                    elRef.current.style.transform = `translateY(${offset}px) translateZ(0)`;
                };
                const onScroll = () => {
                    if (!isTicking) { window.requestAnimationFrame(() => { handleScroll(); isTicking = false; }); isTicking = true; }
                };
                window.addEventListener('scroll', onScroll, { passive: true });
                handleScroll();
                return () => window.removeEventListener('scroll', onScroll);
            }, [speed]);
            return <div ref={elRef} className={className}>{children}</div>;
        };

        // === Data ===
        const galleryData = [
          { title: 'SHAMS Seminar', description: 'Sharing knowledge and sparking new ideas.', coverImage: 'image/seminar.png', images: ['image/Seminar 3.jpg', 'image/seminar 2.jpg', 'image/seminar 1.jpg'] },
          { title: 'Booth SHAMS', description: 'Showcasing innovations and inspiring collaboration.', coverImage: 'image/booth.png', images: ['image/booth 1.jpg', 'image/booth 2.jpg', 'image/booth 3.jpg', 'image/booth 4.jpg', 'image/booth 5.jpg', 'image/booth 6.jpg', 'image/booth 7.jpg'] },
          { title: 'Award & Certificate Presentation Session', description: 'Celebrating achievements and expanding industry networks.', coverImage: 'https://i.pinimg.com/736x/9c/b5/0b/9cb50b6230a2d0591b55e436a64609b8.jpg', images: ['image/award 1.jpeg', 'image/award 2.jpeg', 'image/award 3.jpeg'] },
          { title: 'Outside Seminar', description: 'Expanding knowledge and industry networks.', coverImage: 'https://i.pinimg.com/736x/ba/d3/5f/bad35fdff58df31748dc516ef4a42476.jpg', images: ['image/oseminar 1.jpg', 'image/oseminar 2.jpg', 'image/oseminar 3.jpg', 'image/oseminar 4.jpg'] },
          { title: 'Retreat/Team Building', description: 'Strengthening bonds and boosting team spirit through fun, collaborative activities.', coverImage: 'https://i.pinimg.com/1200x/f5/a1/76/f5a17600ca55bf4afd90324afa2570af.jpg', images: ['image/retreat 1.jpg', 'image/retreat 2.jpg'] },
          { title: 'Majlis Iftar 2025', description: 'Celebrating unity, faith, and togetherness.', coverImage: 'https://i.pinimg.com/736x/26/7b/5a/267b5a42e668a959a415f7167c4629be.jpg', images: ['image/iftar 3.jpg', 'image/iftar 1.jpg', 'image/iftar 2.jpg'] },
          { title: 'Career Seminar', description: 'Inspiring career growth and opportunities.', coverImage: 'https://i.pinimg.com/736x/6b/fc/46/6bfc46c83a25acb82326e6640df5e6d7.jpg', images: ['image/cseminar 1.jpg', 'image/cseminar 2.jpg'] },
          { title: 'Strategic Collaboration', description: 'Fostering academic and research partnerships.', coverImage: 'https://i.pinimg.com/736x/f2/bd/23/f2bd230786283011f15afb1c3eab9530.jpg', images: ['image/collab 7.jpeg', 'image/collab 1.jpg', 'image/collab 3.jpg', 'image/collab 4.png', 'image/collab 5.jpg', 'image/collab 6.jpg'] }
        ];

        // === Page-Specific Components ===
        const GalleryCard = ({ event, onClick }) => (
            <div onClick={onClick} className="group relative cursor-pointer overflow-hidden rounded-xl shadow-lg aspect-[9/14] w-64 md:w-72 flex-shrink-0 transform transition-all duration-500 ease-in-out hover:!opacity-100 hover:scale-105 hover:shadow-2xl hover:shadow-amber-500/30">
                <img src={event.coverImage} alt={event.title} className="absolute inset-0 w-full h-full object-cover transition-transform duration-500 ease-in-out group-hover:scale-110" />
                <div className="absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent"></div>
                
                <div className="absolute bottom-0 left-0 right-0 p-6 text-white z-10">
                    <h3 className="text-2xl font-bold tracking-tight transform transition-transform duration-300 group-hover:-translate-y-10">{event.title}</h3>
                    <p className="text-sm text-gray-300 mt-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100">{event.description}</p>
                </div>

                <div className="absolute inset-0 bg-black/70 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-500">
                    <span className="text-amber-400 font-semibold border-2 border-amber-400 rounded-full px-6 py-2">
                        View Gallery
                    </span>
                </div>
            </div>
        );

        const Lightbox = ({ event, onClose }) => {
            const [currentIndex, setCurrentIndex] = useState(0);

            const goToPrevious = (e) => { e.stopPropagation(); setCurrentIndex(prev => (prev === 0 ? event.images.length - 1 : prev - 1)); };
            const goToNext = (e) => { e.stopPropagation(); setCurrentIndex(prev => (prev === event.images.length - 1 ? 0 : prev + 1)); };
            
            useEffect(() => {
                const handleKeyDown = (e) => {
                    if (e.key === 'Escape') onClose();
                    if (e.key === 'ArrowLeft') goToPrevious(e);
                    if (e.key === 'ArrowRight') goToNext(e);
                };
                window.addEventListener('keydown', handleKeyDown);
                return () => window.removeEventListener('keydown', handleKeyDown);
            }, [event.images.length]);

            return (
                <div className="fixed inset-0 bg-black/90 z-[100] flex items-center justify-center animate-fadeIn" onClick={onClose}>
                    <div className="relative" onClick={e => e.stopPropagation()}>
                        <button onClick={onClose} className="absolute -top-12 right-0 text-white text-4xl hover:text-amber-400 transition">&times;</button>
                        <img src={event.images[currentIndex]} alt={`${event.title} - ${currentIndex + 1}`} className="rounded-lg shadow-2xl lightbox-image" />
                         <div className="text-white text-center mt-4">
                            <h3 className="text-xl font-bold">{event.title}</h3>
                            <p className="text-gray-300">{event.description}</p>
                            <p className="text-sm text-gray-400 mt-1">{currentIndex + 1} / {event.images.length}</p>
                        </div>
                    </div>
                    {event.images.length > 1 && (
                        <>
                           <button onClick={goToPrevious} className="absolute left-4 md:left-8 text-white p-3 bg-black/50 rounded-full hover:bg-amber-500/80 transition focus:outline-none">&lt;</button>
                           <button onClick={goToNext} className="absolute right-4 md:right-8 text-white p-3 bg-black/50 rounded-full hover:bg-amber-500/80 transition focus:outline-none">&gt;</button>
                        </>
                    )}
                </div>
            );
        };
        
        // === Main Page Component ===
        const GalleryPage = () => {
            const [selectedEvent, setSelectedEvent] = useState(null);

            return (
                <div className="bg-gray-900 text-white overflow-x-hidden">
                    <Header isVisible={true} />
                    <main className="relative">
                        <section className="relative py-20 md:py-32 overflow-hidden">
                            <Parallax speed={0.3} className="absolute inset-0 z-0">
                                <video autoPlay loop muted playsInline src="video/bghp.mp4" className="w-full h-full object-cover opacity-90 scale-125">
                                    Your browser does not support the video tag.
                                </video>
                            </Parallax>
                            <div className="absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent"></div>
                            <div className="relative container mx-auto px-6 text-center z-10">
                                <AnimatedSection>
                                    <h1 className="text-4xl md:text-6xl font-extrabold tracking-tight">
                                        <span className="text-transparent bg-clip-text bg-gradient-to-r from-amber-300 to-orange-500">Life at KBSE</span>
                                    </h1>
                                    <p className="mt-4 text-lg md:text-xl text-gray-300 max-w-3xl mx-auto">
                                        Where innovation, collaboration, and fun come together. Discover our culture and see what makes us a great place to grow your career.
                                    </p>
                                </AnimatedSection>
                            </div>
                        </section>

                        <div className="relative bg-gray-900">
                            <div className="container mx-auto px-6 py-20 space-y-24">
                                <section>
                                    <AnimatedSection>
                                        <div className="text-center">
                                            <SectionTitle>Moments That Define Us</SectionTitle>
                                            <p className="text-gray-300 max-w-3xl mx-auto mt-8 mb-16">Celebrating our journey through workshops, innovation showcases, and community gatherings that fuel growth and unity.</p>
                                        </div>
                                    </AnimatedSection>
                                    <div className="flex flex-wrap justify-center items-start gap-8 md:gap-12 has-[:hover]:[>*:not(:hover)]:opacity-60 has-[:hover]:[>*:not(:hover)]:scale-95 transition-all duration-500">
                                        {galleryData.map((event, index) => (
                                            <AnimatedSection key={index} delay={index * 100}>
                                                <GalleryCard event={event} onClick={() => setSelectedEvent(event)} />
                                            </AnimatedSection>
                                        ))}
                                    </div>
                                </section>

                                <section>
                                <AnimatedSection>
                                    <div className="bg-gray-800/50 border border-amber-500/30 rounded-lg p-10 lg:p-16 text-center shadow-lg">
                                    <SectionTitle className="mb-6">Ready to Be Part of Our Story?</SectionTitle>
                                    <p className="text-gray-300 max-w-3xl mx-auto mb-8 text-lg">
                                        We are always looking for passionate, curious, and creative people to join our team. Explore our open roles and find your future at Teknologi KBSE.
                                    </p>
                                    <div className="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4">
                                        <a href="contact.html" className="bg-transparent border-2 border-red-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-white hover:text-black transition-colors duration-300">
                                        Contact Us
                                        </a>
                                    </div>
                                    </div>
                                </AnimatedSection>
                                </section>
                            </div>
                        </div>
                    </main>
                    <Footer />
                    {selectedEvent && <Lightbox event={selectedEvent} onClose={() => setSelectedEvent(null)} />}
                </div>
            );
        };

        // === Render the App ===
        const rootElement = document.getElementById('root');
        if (!rootElement) throw new Error("Could not find root element to mount to");
        const root = ReactDOM.createRoot(rootElement);
        root.render(<React.StrictMode><GalleryPage /></React.StrictMode>);
    </script>
</body>
</html>